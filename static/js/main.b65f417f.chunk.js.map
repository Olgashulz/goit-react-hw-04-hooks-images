{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ErrorResponse/ErrorResponse.js","servises/app.js","App.js","index.js"],"names":["Searchbar","state","inputValue","handleInputValueChange","event","setState","currentTarget","value","toLowerCase","handleOnSubmit","preventDefault","trim","toast","error","props","onSubmit","removeImages","className","href","onClick","resetState","this","type","onChange","placeholder","Component","proTotypes","PropTypes","func","isRequired","ImageGalleryItem","onToggle","images","map","item","largeImageURL","src","webformatURL","alt","tags","id","array","ImageGallery","onOpen","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","toggleModal","LoaderFnc","color","height","width","timeout","ErrorResponse","message","console","log","Error","string","fetchImages","page","a","fetch","then","response","ok","json","Promise","reject","dataImages","hits","App","showModal","status","handleSearchSubmit","prevState","largeImage","prevProps","gallery","length","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b65f417f.chunk.js","sourcesContent":["import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    inputValue: '',\n  };\n\n  handleInputValueChange = event => {\n    this.setState({ inputValue: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleOnSubmit = event => {\n    event.preventDefault();\n\n    if (this.state.inputValue.trim() === '') {\n      return toast.error('Please enter keyword.');\n    }\n\n    this.props.onSubmit(this.state.inputValue);\n    this.props.removeImages();\n    // this.setState({ inputValue: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <a href=\"#\" onClick={() => this.props.resetState()} className='link'>\n          <h1 className=\"Title\">Image Gallery</h1>\n        </a>\n        <form className=\"SearchForm\" onSubmit={this.handleOnSubmit}>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.inputValue}\n            onChange={this.handleInputValueChange}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.proTotypes = {\n  onSubmit: PropTypes.func.isRequired,\n  removeImages: PropTypes.func.isRequired,\n  resetState: PropTypes.func\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ onToggle, images }) => {\n  return (\n    <>\n      {images.map(item => {\n        return (\n          <li\n            onClick={() => onToggle(item.largeImageURL)}\n            className=\"ImageGalleryItem\"\n            key={item.id}\n          >\n            <img\n              src={item.webformatURL}\n              alt={item.tags[0]}\n              className=\"ImageGalleryItem-image\"\n              data-largeimage={item.largeImageURL}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.proTotypes = {\n  onToggle: PropTypes.func.isRequired,\n  images: PropTypes.array.isRequired,\n};\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ images, onOpen }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem images={images} onToggle={onOpen} />\n    </ul>\n  );\n};\nexport default ImageGallery;\n\nImageGallery.proTotypes = {\n  onOpen: PropTypes.func.isRequired,\n  images: PropTypes.array.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function Button({ onLoadMore }) {\n  return (\n    <button type=\"button\" className=\"Button\" onClick={onLoadMore}>\n      Load more\n    </button>\n  );\n}\n\nButton.proTotypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose(event);\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose(event);\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n\nModal.proTotypes = {\n  toggleModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\n\nexport default function LoaderFnc() {\n  return (\n    <div className=\"loaderContainer\">\n      <Loader\n        type=\"ThreeDots\"\n        color=\"#000\"\n        height={50}\n        width={50}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function ErrorResponse({ message }) {\n  console.log('Ошибка');\n  return <h3>{message}</h3>;\n}\n\nError.proTotypes = {\n  message: PropTypes.string.isRequired,\n};\n","export const fetchImages = async (inputValue, page) => {\n  const dataImages = await fetch(\n    `https://pixabay.com/api/?key=10507999-623e060cae639baa9b9819f90&q=${inputValue}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject({\n      error: new Error(`Your request ${inputValue} did not return any results`),\n    });\n  });\n  return dataImages.hits;\n};\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport ErrorResponse from './components/ErrorResponse';\nimport { fetchImages } from './servises/app';\n\nexport default class App extends Component {\n  state = {\n    inputValue: '',\n    images: [],\n    page: 1,\n    showModal: false,\n\n    error: null,\n    status: 'resolved',\n  };\n\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { inputValue, page } = this.state;\n\n    if (prevState.inputValue !== inputValue || prevState.page !== page) {\n      try {\n        this.setState({ status: 'pending' });\n        const gallery = await fetchImages(inputValue, page);\n\n        if (gallery.length < 1 && page !== 1) {\n          return toast.error(`Sorry, that's all there is to your request. `);\n        }\n\n        if (gallery.length < 1) {\n          return toast.error('Sorry, no results were found.');\n        }\n\n        this.setState({ status: 'resolved' });\n        this.setState(prevState => ({\n          images: [...prevState.images, ...gallery],\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        this.setState({ error, status: 'rejected' });\n      }\n    }\n  }\n\n  handleSearchSubmit = inputValue => {\n    console.log(inputValue);\n    this.setState({ inputValue });\n  };\n\n  removeImages = () => {\n    this.setState({ images: [] });\n  };\n\n  onLoadMore = event => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.handleSearchSubmit(this.state.inputValue);\n  };\n\n  toggleModal = largeImage => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n    this.setState({ largeImage: largeImage });\n  };\n\n  resetState = () => {\n    this.setState({\n      images: [],\n      page: 1,\n      error: null,\n    });\n  };\n\n  render() {\n    const { status, error, inputValue, showModal, largeImage, images } =\n      this.state;\n    return (\n      <div className=\"container\">\n        <Searchbar\n          onSubmit={this.handleSearchSubmit}\n          removeImages={this.removeImages}\n          resetState={this.resetState}\n        />\n\n        {status === 'pending' && <Loader />}\n        {status === 'rejected' && <ErrorResponse message={error.message} />}\n\n        <ImageGallery onOpen={this.toggleModal} images={images} />\n\n        {images.length > 0 && <Button onLoadMore={this.onLoadMore} />}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImage} alt={inputValue} className=\"LargeImg\" />\n          </Modal>\n        )}\n        <ToastContainer autoClose={2500} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// // If you want to start measuring performance in your app, pass a function\n// // to log results (for example: reportWebVitals(console.log))\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}