(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(5),o=r.n(c),s=(r(18),r(10)),i=r(3),u=r(4),l=(r(11),r(2)),j=r.n(l),m=r(1);function b(e){var t=e.onSubmitApp,r=e.removeImagesApp,a=e.resetStateApp,c=Object(n.useState)(""),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(m.jsxs)("header",{className:"Searchbar",children:[Object(m.jsx)("a",{href:"#",onClick:function(){return a()},className:"link",children:Object(m.jsx)("h1",{className:"Title",children:"Image Gallery"})}),Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===s.trim())return u.b.error("Please enter keyword.");t(s),r()},children:[Object(m.jsx)("input",{className:"SearchForm-input",type:"text",value:s,onChange:function(e){a(),l(e.currentTarget.value.toLowerCase())},placeholder:"Search images and photos"}),Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})})]})]})}b.proTotypes={onSubmit:j.a.func.isRequired,removeImages:j.a.func.isRequired,resetState:j.a.func};var d=function(e){var t=e.onToggle,r=e.images;return Object(m.jsx)(m.Fragment,{children:r.map((function(e){return Object(m.jsx)("li",{onClick:function(){return t(e.largeImageURL)},className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:e.webformatURL,alt:e.tags[0],className:"ImageGalleryItem-image","data-largeimage":e.largeImageURL})},e.id)}))})},h=d;d.proTotypes={onToggle:j.a.func.isRequired,images:j.a.array.isRequired};var p=function(e){var t=e.images,r=e.onOpen;return Object(m.jsx)("ul",{className:"ImageGallery",children:Object(m.jsx)(h,{images:t,onToggle:r})})},g=p;function f(e){var t=e.onLoadMore;return Object(m.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}p.proTotypes={onOpen:j.a.func.isRequired,images:j.a.array.isRequired},f.proTotypes={onLoadMore:j.a.func.isRequired};var O=document.querySelector("#modal-root");function v(e){var t=e.children,r=e.onClose;Object(n.useEffect)((function(){window.addEventListener("keydown",a)}),[]),Object(n.useEffect)((function(){return function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&r(e)};return Object(c.createPortal)(Object(m.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&r(e)},children:Object(m.jsx)("div",{className:"Modal",children:t})}),O)}v.proTotypes={toggleModal:j.a.func.isRequired};var x=r(12),y=r.n(x);function S(){return Object(m.jsx)("div",{className:"loaderContainer",children:Object(m.jsx)(y.a,{type:"ThreeDots",color:"#000",height:50,width:50,timeout:3e3})})}function w(e){var t=e.message;return console.log("\u041e\u0448\u0438\u0431\u043a\u0430"),Object(m.jsx)("h3",{children:t})}Error.proTotypes={message:j.a.string.isRequired};var N=r(9),k=r.n(N),T=r(13),q=function(){var e=Object(T.a)(k.a.mark((function e(t,r){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pixabay.com/api/?key=10507999-623e060cae639baa9b9819f90&q=".concat(t,"&page=").concat(r,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject({error:new Error("Your request ".concat(t," did not return any results"))})}));case 2:return n=e.sent,e.abrupt("return",n.hits);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),I="pending",R="resolved",L="rejected";function C(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),l=o[0],j=o[1],d=Object(n.useState)(1),h=Object(i.a)(d,2),p=h[0],O=h[1],x=Object(n.useState)(!1),y=Object(i.a)(x,2),N=y[0],k=y[1],T=Object(n.useState)(null),C=Object(i.a)(T,2),E=C[0],A=C[1],M=Object(n.useState)("resolved"),F=Object(i.a)(M,2),G=F[0],P=F[1],U=Object(n.useState)(null),B=Object(i.a)(U,2),D=B[0],J=B[1];Object(n.useEffect)((function(){r&&(P(I),q(r,p).then((function(e){return e.length<1&&1!==p?u.b.error("Sorry, that's all there is to your request. "):e.length<1?u.b.error("Sorry, no results were found."):(j((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),void P(R))})).catch((function(e){A(e),P(L)})).finally((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[r,p]);var _=function(e){k(!N),J(e)};return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(b,{onSubmitApp:a,removeImagesApp:function(){j([])},resetStateApp:function(){a(""),j([]),O(1),A(null)}}),"pending"===G&&Object(m.jsx)(S,{}),"rejected"===G&&Object(m.jsx)(w,{message:E.message}),Object(m.jsx)(g,{onOpen:_,images:l}),l.length>0&&Object(m.jsx)(f,{onLoadMore:function(e){a(r),O(p+1)}}),N&&Object(m.jsx)(v,{onClose:_,children:Object(m.jsx)("img",{src:D,alt:r,className:"LargeImg"})}),Object(m.jsx)(u.a,{autoClose:2500})]})}o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.52bc7df6.chunk.js.map